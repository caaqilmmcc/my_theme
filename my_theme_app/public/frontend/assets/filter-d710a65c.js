var I=Object.defineProperty;var b=Object.getOwnPropertySymbols;var S=Object.prototype.hasOwnProperty,x=Object.prototype.propertyIsEnumerable;var L=(t,l,e)=>l in t?I(t,l,{enumerable:!0,configurable:!0,writable:!0,value:e}):t[l]=e,K=(t,l)=>{for(var e in l||(l={}))S.call(l,e)&&L(t,e,l[e]);if(b)for(var e of b(l))x.call(l,e)&&L(t,e,l[e]);return t};import{aG as A,D as C,k as j,a3 as E,q as w,aK as P,bv as B}from"./index-3bb1be67.js";const D=(t,l,e)=>t==null||l==null?-1:t.toString().toLocaleLowerCase().indexOf(l.toString().toLocaleLowerCase()),H=A({customFilter:Function,customKeyFilter:Object,filterKeys:[Array,String],filterMode:{type:String,default:"intersection"},noFilter:Boolean},"filter");function G(t,l,e){var d,u,g;const a=[],h=(d=e==null?void 0:e.default)!=null?d:D,i=e!=null&&e.filterKeys?P(e.filterKeys):!1,f=Object.keys((u=e==null?void 0:e.customKeyFilter)!=null?u:{}).length;if(!(t!=null&&t.length))return a;e:for(let n=0;n<t.length;n++){const c=t[n],m={},s={};let r=-1;if(l&&!(e!=null&&e.noFilter)){if(typeof c=="object"){const O=i||Object.keys(c);for(const F of O){const k=B(c,F,c),v=(g=e==null?void 0:e.customKeyFilter)==null?void 0:g[F];if(r=v?v(k,l,c):h(k,l,c),r!==-1&&r!==!1)v?m[F]=r:s[F]=r;else if((e==null?void 0:e.filterMode)==="every")continue e}}else r=h(c,l,c),r!==-1&&r!==!1&&(s.title=r);const y=Object.keys(s).length,M=Object.keys(m).length;if(!y&&!M||(e==null?void 0:e.filterMode)==="union"&&M!==f&&!y||(e==null?void 0:e.filterMode)==="intersection"&&(M!==f||!y))continue}a.push({index:n,matches:K(K({},s),m)})}return a}function J(t,l,e,a){const h=C(()=>typeof(e==null?void 0:e.value)!="string"&&typeof(e==null?void 0:e.value)!="number"?"":String(e.value)),i=j([]),f=j(new Map);E(()=>{var n;i.value=[],f.value=new Map;const u=w(l);G(u,h.value,{customKeyFilter:t.customKeyFilter,default:t.customFilter,filterKeys:(n=w(a==null?void 0:a.filterKeys))!=null?n:t.filterKeys,filterMode:t.filterMode,noFilter:t.noFilter}).forEach(c=>{let{index:m,matches:s}=c;const r=u[m];i.value.push(r),f.value.set(r.value,s)})});function d(u){return f.value.get(u.value)}return{filteredItems:i,filteredMatches:f,getMatches:d}}export{H as m,J as u};
