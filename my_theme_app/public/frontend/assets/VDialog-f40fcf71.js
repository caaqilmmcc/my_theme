var S=Object.defineProperty;var g=Object.getOwnPropertySymbols;var x=Object.prototype.hasOwnProperty,w=Object.prototype.propertyIsEnumerable;var p=(a,o,e)=>o in a?S(a,o,{enumerable:!0,configurable:!0,writable:!0,value:e}):a[o]=e,V=(a,o)=>{for(var e in o||(o={}))x.call(o,e)&&p(a,e,o[e]);if(g)for(var e of g(o))w.call(o,e)&&p(a,e,o[e]);return a};var b=(a,o,e)=>new Promise((s,d)=>{var r=t=>{try{u(e.next(t))}catch(l){d(l)}},f=t=>{try{u(e.throw(t))}catch(l){d(l)}},u=t=>t.done?s(t.value):Promise.resolve(t.value).then(r,f);u((e=e.apply(a,o)).next())});import{as as B,aD as I,k as R,bH as T,Y as E,ba as F,D as O,Z as P,az as z,p as y,bl as A,ce as C}from"./index-3bb1be67.js";import{m as L,u as N,V as D}from"./VOverlay-9e706984.js";import{f as k}from"./forwardRefs-bb5e4b03.js";import{V as H}from"./dialog-transition-7cbfa88f.js";const $=B()({name:"VDialog",props:V({fullscreen:Boolean,retainFocus:{type:Boolean,default:!0},scrollable:Boolean},L({origin:"center center",scrollStrategy:"block",transition:{component:H},zIndex:2400})),emits:{"update:modelValue":a=>!0},setup(a,o){let{slots:e}=o;const s=I(a,"modelValue"),{scopeId:d}=N(),r=R();function f(t){var c,i;const l=t.relatedTarget,n=t.target;if(l!==n&&((c=r.value)!=null&&c.contentEl)&&((i=r.value)!=null&&i.globalTop)&&![document,r.value.contentEl].includes(n)&&!r.value.contentEl.contains(n)){const v=C(r.value.contentEl);if(!v.length)return;const m=v[0],h=v[v.length-1];l===m?h.focus():m.focus()}}T&&E(()=>s.value&&a.retainFocus,t=>{t?document.addEventListener("focusin",f):document.removeEventListener("focusin",f)},{immediate:!0}),E(s,t=>b(this,null,function*(){var l,n;yield F(),t?(l=r.value.contentEl)==null||l.focus({preventScroll:!0}):(n=r.value.activatorEl)==null||n.focus({preventScroll:!0})}));const u=O(()=>P({"aria-haspopup":"dialog","aria-expanded":String(s.value)},a.activatorProps));return z(()=>{const[t]=D.filterProps(a);return y(D,P({ref:r,class:["v-dialog",{"v-dialog--fullscreen":a.fullscreen,"v-dialog--scrollable":a.scrollable},a.class],style:a.style},t,{modelValue:s.value,"onUpdate:modelValue":l=>s.value=l,"aria-modal":"true",activatorProps:u.value,role:"dialog"},d),{activator:e.activator,default:function(){for(var l=arguments.length,n=new Array(l),c=0;c<l;c++)n[c]=arguments[c];return y(A,{root:!0},{default:()=>{var i;return[(i=e.default)==null?void 0:i.call(e,...n)]}})}})}),k({},r)}});export{$ as V};
